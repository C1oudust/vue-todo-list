(function(t){function e(e){for(var o,a,c=e[0],r=e[1],d=e[2],l=0,p=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,c=1;c<n.length;c++){var r=n[c];0!==i[r]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},i={app:0},s=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=r;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0916":function(t,e,n){"use strict";var o=n("2080"),i=n.n(o);i.a},2080:function(t,e,n){},"21ae":function(t,e,n){"use strict";var o=n("29b3"),i=n.n(o);i.a},"29b3":function(t,e,n){},"555a":function(t,e,n){"use strict";var o=n("848a"),i=n.n(o);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],a=n("2877"),c={},r=Object(a["a"])(c,i,s,!1,null,null,null),d=r.exports,u=n("8c4f"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container",class:{"menu-open":t.menuOpen}},[n("section",{staticClass:"menu"},[n("menus")],1),n("section",[n("div",{staticClass:"content-overlay",on:{click:t.updateMenu}}),n("div",{staticClass:"content-container"},[n("router-view")],1)])])},p=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-todos"},[t._l(t.todoList,(function(e,o){return n("a",{key:o,staticClass:"list-todo activeListClass list",class:{active:e.id===t.todoId},on:{click:function(n){return t.goList(e.id)}}},[e.locked?n("span",{staticClass:"icon-lock"}):t._e(),e.count?n("span",{staticClass:"count-list"},[t._v(t._s(e.count||0))]):t._e(),t._v(" "+t._s(e.title)+" ")])})),n("a",{staticClass:"link-list-new",on:{click:t.addTodoList}},[n("span",{staticClass:"icon-plus"}),t._v(" 新增 ")])],2)},m=[],h=n("bc3a"),v=n.n(h),k=function(t){return v.a.get("/todo/list",{params:t})},g=function(t){return v.a.get("/todo/listId",{params:t})},y=function(t){return v.a.post("/todo/addTodo",t).then((function(t){return t.data}))},w=function(t){return v.a.post("todo/addRecord",t).then((function(t){return t.data}))},x=function(t){return v.a.post("/todo/editTodo",t).then((function(t){return t.data}))},b=function(t){return v.a.post("/todo/editRecord",t).then((function(t){return t.data}))},C={data:function(){return{items:[],todoId:""}},watch:{todoId:function(t){this.$router.push({name:"todo",params:{id:t}})}},computed:{todoList:function(){return this.$store.getters.getTodoList.length<this.todoNum&&this.goList(this.$store.getters.getTodoList[0].id),this.$store.getters.getTodoList}},methods:{goList:function(t){this.todoId=t},addTodoList:function(){var t=this;y({}).then((function(){t.$store.dispatch("getTodo").then((function(){t.$nextTick((function(){setTimeout((function(){t.goList(t.todoList[t.todoList.length-1].id)}),100)}))}))}))}},created:function(){var t=this;this.$store.dispatch("getTodo").then((function(){t.$nextTick((function(){t.goList(t.todoList[0].id)}))}))}},T=C,_=(n("21ae"),Object(a["a"])(T,f,m,!1,null,null,null)),O=_.exports,$={name:"Home",components:{Menus:O},computed:{menuOpen:function(){return this.$store.state.menuOpen}},methods:{updateMenu:function(){this.$store.dispatch("updateMenu")}}},P=$,D=(n("de16"),Object(a["a"])(P,l,p,!1,null,null,null)),L=D.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isDelete,expression:"!todo.isDelete"}],staticClass:"page lists-show"},[n("nav",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isUpdate,expression:"isUpdate"}],staticClass:"form list-edit-form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],attrs:{type:"text",disabled:t.todo.locked},domProps:{value:t.todo.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTitle(e)},input:function(e){e.target.composing||t.$set(t.todo,"title",e.target.value)}}}),n("div",{staticClass:"nav-group right"},[n("a",{staticClass:"nav-item",on:{click:function(e){t.isUpdate=!1}}},[n("span",{staticClass:"icon-close"})])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isUpdate,expression:"!isUpdate"}],staticClass:"nav-group",on:{click:t.updateMenu}},[t._m(0)]),n("h1",{directives:[{name:"show",rawName:"v-show",value:!t.isUpdate,expression:"!isUpdate"}],staticClass:"title-page",on:{click:function(e){t.isUpdate=!1}}},[n("span",{staticClass:"title-wrapper",attrs:{disabled:t.todo.locked}},[t._v(t._s(t.todo.title))]),n("span",{staticClass:"count-list"},[t._v(t._s(t.todo.count||0))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isUpdate,expression:"!isUpdate"}],staticClass:"nav-group right"},[n("div",{staticClass:"options-web"},[n("a",{staticClass:"nav-item",on:{click:t.onlock}},[t.todo.locked?n("span",{staticClass:"icon-lock"}):n("span",{staticClass:"icon-unlock"})]),n("a",{staticClass:"nav-item"},[n("span",{staticClass:"icon-trash",on:{click:t.onDelete}})])])]),n("div",{staticClass:"form todo-new input-symbol"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",placeholder:"请输入",disabled:t.todo.locked},domProps:{value:t.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onAdd(e)},input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("span",{staticClass:"icon-add"})])]),n("div",{staticClass:"content-scrollable list-items"},t._l(t.items,(function(e,o){return n("div",{key:o},[n("item",{attrs:{item:e,index:o,id:t.todo.id,init:t.init,locked:t.todo.locked}})],1)})),0)])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"nav-item"},[n("span",{staticClass:"icon-list-unordered"})])}],j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.item.isDelete,expression:"!item.isDelete"}],staticClass:"list-item editingClass editing",class:{checked:t.item.checked}},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.checked,expression:"item.checked"}],attrs:{type:"checkbox",name:"checked",disabled:t.locked},domProps:{checked:Array.isArray(t.item.checked)?t._i(t.item.checked,null)>-1:t.item.checked},on:{change:[function(e){var n=t.item.checked,o=e.target,i=!!o.checked;if(Array.isArray(n)){var s=null,a=t._i(n,s);o.checked?a<0&&t.$set(t.item,"checked",n.concat([s])):a>-1&&t.$set(t.item,"checked",n.slice(0,a).concat(n.slice(a+1)))}else t.$set(t.item,"checked",i)},t.onChange]}}),n("span",{staticClass:"checkbox-custom"})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.text,expression:"item.text"}],attrs:{type:"text",placeholder:"写点什么",disabled:t.item.checked||t.locked},domProps:{value:t.item.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onChange(e)},input:function(e){e.target.composing||t.$set(t.item,"text",e.target.value)}}}),t.item.checked&&t.locked?n("a",{staticClass:"delete-item",on:{click:function(e){t.item.isDelete=!0,t.onChange()}}},[n("span",{staticClass:"icon-trash"})]):t._e()])])},M=[],U={props:{item:{type:Object,default:function(){return{checked:!1,text:"新增事项"}}},index:{},id:{},init:{},locked:{}},methods:{onChange:function(){var t=this;b({id:this.id,record:this.item,index:this.index}).then((function(){t.init(),t.$store.dispatch("getTodo")}))}}},R=U,I=(n("0916"),Object(a["a"])(R,j,M,!1,null,null,null)),S=I.exports,A={components:{Item:S},data:function(){return{todo:{title:"星期一",count:12,locked:!1},items:[],text:"",isUpdate:!1}},methods:{updateMenu:function(){this.$store.dispatch("updateMenu")},init:function(){var t=this,e=this.$route.params.id;g({id:e}).then((function(e){var n=e.data.todo,o=n.id,i=n.title,s=n.count,a=n.isDelete,c=n.locked,r=n.record;t.items=r,t.todo={id:o,title:i,count:s,locked:c,isDelete:a}}))},onAdd:function(){var t=this,e=this.$route.params.id;w({id:e,text:this.text}).then((function(){t.text="",t.init(),t.$store.dispatch("getTodo")}))},updateTodo:function(){var t=this;x({todo:this.todo}).then((function(){t.$store.dispatch("getTodo")}))},updateTitle:function(){this.updateTodo(),this.isUpdate=!1},onDelete:function(){this.todo.isDelete=!0,this.updateTodo()},onlock:function(){this.todo.locked=!this.todo.locked,this.updateTodo()}},watch:{"$route.params.id":function(){this.init()}},created:function(){this.init()}},J=A,G=(n("555a"),Object(a["a"])(J,N,E,!1,null,null,null)),H=G.exports;o["a"].use(u["a"]);var q=u["a"].prototype.push;u["a"].prototype.push=function(t){return q.call(this,t).catch((function(t){return t}))};var z=[{path:"/",name:"Home",component:L,children:[{path:"/todo/:id",name:"todo",component:H}]}],B=new u["a"]({mode:"history",base:"/",routes:z}),F=B,K=(n("d3b7"),n("2f62"));o["a"].use(K["a"]);for(var Q=new K["a"].Store({state:{todoList:[],menuOpen:!1},getters:{getTodoList:function(t){return t.todoList}},mutations:{EDITTODE:function(t,e){t.todoList=e},MENUOPEN:function(t){t.menuOpen=!t.menuOpen}},actions:{getTodo:function(t){return new Promise((function(e){k().then((function(n){t.commit("EDITTODE",n.data.todos),e()}))}))},updateMenu:function(t){t.commit("MENUOPEN")}},modules:{}}),V=(n("4de4"),n("7db0"),n("d81d"),n("45fc"),n("94db")),W=n.n(V),X=n("96eb"),Y=n.n(X),Z=[],tt=[1,2,3,4,5],et=1;et<=tt.length;et++)Z.push(Y.a.mock({id:Y.a.Random.guid(),title:Y.a.Random.first(),isDelete:!1,locked:Y.a.Random.boolean(),record:tt.map((function(){return{text:Y.a.Random.cparagraph(2),isDelete:!1,checked:Y.a.Random.boolean()}}))}));var nt={start:function(){var t=new W.a(v.a);t.onGet("/todo/list").reply((function(){var t=Z.map((function(t){return{id:t.id,title:t.title,count:t.record.filter((function(t){return 0==t.checked})).length,locked:t.locked,isDelete:t.isDelete}})).filter((function(t){return!0!==t.isDelete}));return new Promise((function(e){setTimeout((function(){e([200,{todos:t}])}),200)}))})),t.onPost("/todo/addTodo").reply((function(){return Z.push({id:Y.a.Random.guid(),title:"newList",isDelete:!1,locked:!1,record:[]}),new Promise((function(t){setTimeout((function(){t([200])}),200)}))})),t.onGet("todo/listId").reply((function(t){var e=t.params.id,n=Z.find((function(t){return e&&t.id===e}));return n&&(n.count=n?n.record.filter((function(t){return 0==t.checked})).length:null),new Promise((function(t){setTimeout((function(){t([200,{todo:n}])}),200)}))})),t.onPost("todo/addRecord").reply((function(t){var e=JSON.parse(t.data),n=e.id,o=e.text;return Z.some((function(t){if(t.id==n)return t.record.push({text:o,isDelete:!1,checked:!1}),!0})),new Promise((function(t){setTimeout((function(){t([200])}),200)}))})),t.onPost("/todo/editTodo").reply((function(t){var e=JSON.parse(t.data),n=e.todo;return Z.some((function(t){if(t.id===n.id)return t.title=n.title,t.locked=n.locked,t.isDelete=n.isDelete,!0})),new Promise((function(t){setTimeout((function(){t([200])}),200)}))})),t.onPost("/todo/editRecord").reply((function(t){var e=JSON.parse(t.data),n=e.id,o=e.record,i=e.index;return Z.some((function(t){if(t.id===n)return t.record[i]=o,!0})),new Promise((function(t){setTimeout((function(){t([200])}),200)}))}))}},ot=nt;ot.start(),o["a"].config.productionTip=!1,new o["a"]({router:F,store:Q,render:function(t){return t(d)}}).$mount("#app")},"848a":function(t,e,n){},"8d91":function(t,e,n){},de16:function(t,e,n){"use strict";var o=n("8d91"),i=n.n(o);i.a}});
//# sourceMappingURL=app.2063af7b.js.map